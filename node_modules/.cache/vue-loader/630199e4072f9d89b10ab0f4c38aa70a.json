{"remainingRequest":"/Users/ziya/Development/Other/esi-exam-fe/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ziya/Development/Other/esi-exam-fe/src/components/BookList.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/ziya/Development/Other/esi-exam-fe/src/components/BookList.vue","mtime":1653261371668},{"path":"/Users/ziya/Development/Other/esi-exam-fe/node_modules/cache-loader/dist/cjs.js","mtime":1652517625200},{"path":"/Users/ziya/Development/Other/esi-exam-fe/node_modules/babel-loader/lib/index.js","mtime":1652517626201},{"path":"/Users/ziya/Development/Other/esi-exam-fe/node_modules/ts-loader/index.js","mtime":1652517615040},{"path":"/Users/ziya/Development/Other/esi-exam-fe/node_modules/cache-loader/dist/cjs.js","mtime":1652517625200},{"path":"/Users/ziya/Development/Other/esi-exam-fe/node_modules/vue-loader/lib/index.js","mtime":1652517614138}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKaW1wb3J0IHsgQ29tcG9uZW50LCBWdWUgfSBmcm9tICJ2dWUtcHJvcGVydHktZGVjb3JhdG9yIjsKaW1wb3J0IEJvb2tTZXJ2aWNlIGZyb20gIkAvc2VydmljZXMvQm9va1NlcnZpY2UiOwppbXBvcnQgeyBuYW1lc3BhY2UgfSBmcm9tICJ2dWV4LWNsYXNzIjsKCmNvbnN0IEF1dGggPSBuYW1lc3BhY2UoIkF1dGgiKTsKCmNsYXNzIEJvb2tEdG8gewoKICBpZDogbnVtYmVyOwogIGF1dGhvcjogc3RyaW5nOwogIHRpdGxlOiBzdHJpbmc7CiAgc3RhdHVzOiBzdHJpbmc7CiAgc2VsZWN0ZWRTdGF0dXM6IHN0cmluZzsKICBsYW5ndWFnZTogc3RyaW5nOwoKICBjb25zdHJ1Y3RvcigKICAgIGlkOiBudW1iZXIsCiAgICBhdXRob3I6IHN0cmluZywKICAgIHRpdGxlOiBzdHJpbmcsCiAgICBzdGF0dXM6IHN0cmluZywKICAgIHNlbGVjdGVkU3RhdHVzOiBzdHJpbmcsCiAgICBsYW5ndWFnZTogc3RyaW5nLAogICkgewogICAgdGhpcy5pZCA9IGlkCiAgICB0aGlzLmF1dGhvciA9IGF1dGhvcgogICAgdGhpcy50aXRsZSA9IHRpdGxlCiAgICB0aGlzLnN0YXR1cyA9IHN0YXR1cwogICAgdGhpcy5zZWxlY3RlZFN0YXR1cyA9IHNlbGVjdGVkU3RhdHVzCiAgICB0aGlzLmxhbmd1YWdlID0gbGFuZ3VhZ2UKICB9Cgp9CgpAQ29tcG9uZW50CmV4cG9ydCBkZWZhdWx0IGNsYXNzIEhvbWUgZXh0ZW5kcyBWdWUgewogIEBBdXRoLlN0YXRlKCJ1c2VyIikKICBwcml2YXRlIGN1cnJlbnRVc2VyITogYW55OwoKICBwcml2YXRlIGNvbnRlbnQ6IEJvb2tEdG9bXSA9IFtdOwogIHByaXZhdGUgZXJyb3IgPSBudWxsOwogIHByaXZhdGUgc2VhcmNoS2V5ID0gIiI7CgogIG1vdW50ZWQoKSB7CiAgICBpZiAoIXRoaXMuY3VycmVudFVzZXIpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9sb2dpbiIpOwogICAgfQogICAgdGhpcy5sb2FkQm9va3MoKTsKICB9CgogIGxvYWRCb29rcygpIHsKICAgIEJvb2tTZXJ2aWNlLnNlYXJjaEJvb2tzKHRoaXMuc2VhcmNoS2V5LCAyMCwgMCkudGhlbigKICAgICAgKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgdGhpcy5jb250ZW50ID0gcmVzcG9uc2UuZGF0YS5jb250ZW50OwogICAgICAgIGNvbnNvbGUubG9nKHRoaXMuY29udGVudCkKICAgICAgfSwKICAgICAgKGVycm9yKSA9PiB0aGlzLmV4dHJhY3RFcnJvck1lc3NhZ2UoZXJyb3IpCiAgICApOwogIH0KCiAgcHJpdmF0ZSBleHRyYWN0RXJyb3JNZXNzYWdlKGVycm9yOiBhbnkpIHsKICAgIHRoaXMuZXJyb3IgPQogICAgICAoZXJyb3IucmVzcG9uc2UgJiYgZXJyb3IucmVzcG9uc2UuZGF0YSkgfHwKICAgICAgZXJyb3IubWVzc2FnZSB8fAogICAgICBlcnJvci50b1N0cmluZygpOwogIH0KfQo="},{"version":3,"sources":["BookList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"BookList.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"container\">\n    <header class=\"jumbotron\">\n      <h3>List of all books</h3>\n      <div class=\"input-group\">\n        <input @keyup.enter=\"loadBooks()\" type=\"text\" class=\"form-control\" placeholder=\"Search\" v-model=\"searchKey\">\n        <button @click=\"loadBooks()\" class=\"input-group-text\">&#x1F50E</button>\n      </div>\n    </header>\n    <div id=\"books\">\n      <div>\n        <router-link :to=\"'books/create'\">\n          <button class=\"btn btn-primary btn-block mb-3\">\n            ADD NEW BOOK\n          </button>\n        </router-link>\n      </div>\n      <div>\n\n      </div>\n      <table id=\"booksTable\" class=\"table\">\n        <thead v-if=\"content\">\n          <tr>\n            <th v-for=\"(value, key) in content[0]\" :key=\"key\">\n              {{ key }}\n            </th>\n          </tr>\n        </thead>\n        <p v-else>{{ error }}</p>\n        <tbody>\n          <tr v-for=\"book in content\" :key=\"book.id\">\n            <td v-for=\"field in book\" :key=\"field\">\n              {{ field }}\n            </td>\n            <td>\n              <router-link :to=\"'books/edit/' + book.id\"> Edit</router-link>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Component, Vue } from \"vue-property-decorator\";\nimport BookService from \"@/services/BookService\";\nimport { namespace } from \"vuex-class\";\n\nconst Auth = namespace(\"Auth\");\n\nclass BookDto {\n\n  id: number;\n  author: string;\n  title: string;\n  status: string;\n  selectedStatus: string;\n  language: string;\n\n  constructor(\n    id: number,\n    author: string,\n    title: string,\n    status: string,\n    selectedStatus: string,\n    language: string,\n  ) {\n    this.id = id\n    this.author = author\n    this.title = title\n    this.status = status\n    this.selectedStatus = selectedStatus\n    this.language = language\n  }\n\n}\n\n@Component\nexport default class Home extends Vue {\n  @Auth.State(\"user\")\n  private currentUser!: any;\n\n  private content: BookDto[] = [];\n  private error = null;\n  private searchKey = \"\";\n\n  mounted() {\n    if (!this.currentUser) {\n      this.$router.push(\"/login\");\n    }\n    this.loadBooks();\n  }\n\n  loadBooks() {\n    BookService.searchBooks(this.searchKey, 20, 0).then(\n      (response) => {\n        this.content = response.data.content;\n        console.log(this.content)\n      },\n      (error) => this.extractErrorMessage(error)\n    );\n  }\n\n  private extractErrorMessage(error: any) {\n    this.error =\n      (error.response && error.response.data) ||\n      error.message ||\n      error.toString();\n  }\n}\n</script>\n"]}]}