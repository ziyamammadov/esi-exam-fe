{"remainingRequest":"/Users/ziya/Development/Other/esi-project-vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ziya/Development/Other/esi-project-vue/src/components/CustomerList.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/ziya/Development/Other/esi-project-vue/src/components/CustomerList.vue","mtime":1652650701651},{"path":"/Users/ziya/Development/Other/esi-project-vue/node_modules/babel-loader/lib/index.js","mtime":1652517626201},{"path":"/Users/ziya/Development/Other/esi-project-vue/node_modules/ts-loader/index.js","mtime":1652517615040},{"path":"/Users/ziya/Development/Other/esi-project-vue/node_modules/cache-loader/dist/cjs.js","mtime":1652517625200},{"path":"/Users/ziya/Development/Other/esi-project-vue/node_modules/vue-loader/lib/index.js","mtime":1652517614138}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKaW1wb3J0IHsgQ29tcG9uZW50LCBWdWUgfSBmcm9tICJ2dWUtcHJvcGVydHktZGVjb3JhdG9yIjsKaW1wb3J0IEN1c3RvbWVyU2VydmljZSBmcm9tICJAL3NlcnZpY2VzL0N1c3RvbWVyU2VydmljZSI7CmltcG9ydCB7IG5hbWVzcGFjZSB9IGZyb20gInZ1ZXgtY2xhc3MiOwoKY29uc3QgQXV0aCA9IG5hbWVzcGFjZSgiQXV0aCIpOwoKQENvbXBvbmVudApleHBvcnQgZGVmYXVsdCBjbGFzcyBDdXN0b21lckxpc3QgZXh0ZW5kcyBWdWUgewogIEBBdXRoLlN0YXRlKCJ1c2VyIikKICBwcml2YXRlIGN1cnJlbnRVc2VyITogYW55OwogIHByaXZhdGUgY29udGVudCA9IG51bGw7CiAgcHJpdmF0ZSBlcnJvciA9IG51bGw7CiAgcHJpdmF0ZSBzZWFyY2hLZXkgPSAiIjsKCiAgbW91bnRlZCgpIHsKICAgICBpZiAoIXRoaXMuY3VycmVudFVzZXIpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9sb2dpbiIpOwogICAgfQogICAgdGhpcy5sb2FkQm9va3MoKTsKICB9CiAgbG9hZEJvb2tzKCkgewogICAgQ3VzdG9tZXJTZXJ2aWNlLnNlYXJjaEN1c3RvbWVycyh0aGlzLnNlYXJjaEtleSwgMjAsIDApLnRoZW4oCiAgICAgIChyZXNwb25zZSkgPT4gewogICAgICAgIHRoaXMuY29udGVudCA9IHJlc3BvbnNlLmRhdGEuY29udGVudDsKICAgICAgfSwKICAgICAgKGVycm9yKSA9PiB7CiAgICAgICAgdGhpcy5lcnJvciA9CiAgICAgICAgICAoZXJyb3IucmVzcG9uc2UgJiYgZXJyb3IucmVzcG9uc2UuZGF0YSkgfHwKICAgICAgICAgIGVycm9yLm1lc3NhZ2UgfHwKICAgICAgICAgIGVycm9yLnRvU3RyaW5nKCk7CiAgICAgIH0KICAgICk7CiAgfQp9Cg=="},{"version":3,"sources":["CustomerList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0CA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CustomerList.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"container\">\n    <header class=\"jumbotron\">\n      <h3>List of all customers</h3>\n      <div class=\"input-group\">\n          <input @keyup.enter=\"loadBooks()\" type=\"text\" class=\"form-control\" placeholder=\"Search\" v-model=\"searchKey\">\n          <button @click=\"loadBooks()\" class=\"input-group-text\" >&#x1F50E</button>\n      </div>\n    </header>\n    <div id=\"customers\">\n      <div>\n        Add books:\n        <router-link :to=\"'books/add/new'\">Add</router-link>\n      </div>\n      <div>\n\n      </div>\n      <table id=\"customersTable\" class=\"table\">\n        <thead v-if=\"content\">\n          <tr>\n            <th v-for=\"(value, key) in content[0]\" :key=\"key\">\n              {{ key }}\n            </th>\n          </tr>\n        </thead>\n        <p v-else>{{error}}</p>\n        <tbody>\n          <tr v-for=\"book in content\" :key=\"book.id\">\n            <td v-for=\"field in book\" :key=\"field\">\n              {{ field }}\n            </td>\n            <td>\n              <router-link :to=\"'customers/' + book.id\"> Edit </router-link>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Component, Vue } from \"vue-property-decorator\";\nimport CustomerService from \"@/services/CustomerService\";\nimport { namespace } from \"vuex-class\";\n\nconst Auth = namespace(\"Auth\");\n\n@Component\nexport default class CustomerList extends Vue {\n  @Auth.State(\"user\")\n  private currentUser!: any;\n  private content = null;\n  private error = null;\n  private searchKey = \"\";\n\n  mounted() {\n     if (!this.currentUser) {\n      this.$router.push(\"/login\");\n    }\n    this.loadBooks();\n  }\n  loadBooks() {\n    CustomerService.searchCustomers(this.searchKey, 20, 0).then(\n      (response) => {\n        this.content = response.data.content;\n      },\n      (error) => {\n        this.error =\n          (error.response && error.response.data) ||\n          error.message ||\n          error.toString();\n      }\n    );\n  }\n}\n</script>\n"]}]}