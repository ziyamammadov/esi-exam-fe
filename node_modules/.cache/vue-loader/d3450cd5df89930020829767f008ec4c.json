{"remainingRequest":"/Users/ziya/Development/Other/esi-exam-fe/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ziya/Development/Other/esi-exam-fe/src/components/Book.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/ziya/Development/Other/esi-exam-fe/src/components/Book.vue","mtime":1653261408971},{"path":"/Users/ziya/Development/Other/esi-exam-fe/node_modules/cache-loader/dist/cjs.js","mtime":1652517625200},{"path":"/Users/ziya/Development/Other/esi-exam-fe/node_modules/babel-loader/lib/index.js","mtime":1652517626201},{"path":"/Users/ziya/Development/Other/esi-exam-fe/node_modules/ts-loader/index.js","mtime":1652517615040},{"path":"/Users/ziya/Development/Other/esi-exam-fe/node_modules/cache-loader/dist/cjs.js","mtime":1652517625200},{"path":"/Users/ziya/Development/Other/esi-exam-fe/node_modules/vue-loader/lib/index.js","mtime":1652517614138}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCmltcG9ydCB7IENvbXBvbmVudCwgVnVlIH0gZnJvbSAidnVlLXByb3BlcnR5LWRlY29yYXRvciI7CmltcG9ydCBCb29rU2VydmljZSBmcm9tICJAL3NlcnZpY2VzL0Jvb2tTZXJ2aWNlIjsKaW1wb3J0IHsgbmFtZXNwYWNlIH0gZnJvbSAidnVleC1jbGFzcyI7Cgpjb25zdCBBdXRoID0gbmFtZXNwYWNlKCJBdXRoIik7CgpAQ29tcG9uZW50CmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJvb2sgZXh0ZW5kcyBWdWUgewogIEBBdXRoLlN0YXRlKCJ1c2VyIikKICBwcml2YXRlIGN1cnJlbnRVc2VyITogYW55OwogIHByaXZhdGUgYm9vayA9IHsKICAgIGlkOiAiIiwKICAgIGF1dGhvcjogIiIsCiAgICB0aXRsZTogIiIsCiAgICBzdGF0dXM6ICIiLAogICAgc2VsZWN0ZWRTdGF0dXM6ICIiLAogICAgbGFuZ3VhZ2U6ICIiLAogIH07CgogIG1vdW50ZWQoKSB7CiAgICBpZiAoIXRoaXMuY3VycmVudFVzZXIpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9sb2dpbiIpOwogICAgfQogICAgdGhpcy5ib29rLmlkID0gdGhpcy4kcm91dGUucGFyYW1zLmlkOwogICAgaWYgKHRoaXMuYm9vay5pZCkgewogICAgICB0aGlzLmdldEJvb2soKTsKICAgIH0KICB9CgogIGdldEJvb2soKSB7CiAgICBCb29rU2VydmljZS5nZXRCb29rKHRoaXMuYm9vay5pZCkudGhlbigKICAgICAgKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgdGhpcy5ib29rLmlkID0gcmVzcG9uc2UuZGF0YS5pZAogICAgICAgIHRoaXMuYm9vay5hdXRob3IgPSByZXNwb25zZS5kYXRhLmF1dGhvcjsKICAgICAgICB0aGlzLmJvb2sudGl0bGUgPSByZXNwb25zZS5kYXRhLnRpdGxlOwogICAgICAgIHRoaXMuYm9vay5zdGF0dXMgPSByZXNwb25zZS5kYXRhLnN0YXR1czsKICAgICAgICB0aGlzLmJvb2suc2VsZWN0ZWRTdGF0dXMgPSByZXNwb25zZS5kYXRhLnN0YXR1czsKICAgICAgICB0aGlzLmJvb2subGFuZ3VhZ2UgPSByZXNwb25zZS5kYXRhLmxhbmd1YWdlOwogICAgICB9LAogICAgICAoZXJyb3IpID0+IHsKICAgICAgICB0aGlzLmJvb2sgPQogICAgICAgICAgKGVycm9yLnJlc3BvbnNlICYmIGVycm9yLnJlc3BvbnNlLmRhdGEpIHx8CiAgICAgICAgICBlcnJvci5tZXNzYWdlIHx8CiAgICAgICAgICBlcnJvci50b1N0cmluZygpOwogICAgICB9CiAgICApOwogIH0KCiAgc2F2ZUJvb2soKSB7CiAgICBsZXQgbmV3Qm9vayA9IHsKICAgICAgaWQ6IHRoaXMuYm9vay5pZCwKICAgICAgYXV0aG9yOiB0aGlzLmJvb2suYXV0aG9yLAogICAgICB0aXRsZTogdGhpcy5ib29rLnRpdGxlLAogICAgICBzdGF0dXM6IHRoaXMuYm9vay5zZWxlY3RlZFN0YXR1cywKICAgICAgbGFuZ3VhZ2U6IHRoaXMuYm9vay5sYW5ndWFnZSwKICAgIH0KICAgIGlmICh0aGlzLmJvb2suaWQpIHsKICAgICAgQm9va1NlcnZpY2UuZWRpdEJvb2sobmV3Qm9vayk7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvYm9va3MiKTsKICAgICAgdGhpcy4kcm91dGVyLmdvKCIvYm9va3MiKTsKICAgIH0KICAgIGVsc2UgewogICAgICBCb29rU2VydmljZS5jcmVhdGVCb29rKG5ld0Jvb2spOwogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL2Jvb2tzIik7CiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["Book.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Book.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"container\">\n    <header>\n      <h3>{{ id ? \"Edit book\" : \"Create book\" }}</h3>\n    </header>\n    <div>\n      <label>Author: </label>\n      <input v-model=\"book.author\" class=\"form-control\" placeholder=\"Author\" />\n    </div>\n    <div>\n      <label>Title: </label>\n      <input v-model=\"book.title\" class=\"form-control\" placeholder=\"Title\" />\n    </div>\n    <div>\n      <br>\n      <form>\n        <label>Current status: {{ this.book.status }}</label><br>\n        <label for=\"statusList\">Choose another status:</label>\n        <select v-model=\"book.selectedStatus\" name=\"statusList\" id=\"statusList\">\n          <option value=\"AVAILABLE\">AVAILABLE</option>\n          <option value=\"BOOKED\">BOOKED</option>\n          <option value=\"DELETED\">DELETED</option>\n          <option value=\"RENTED\">RENTED</option>\n          <option value=\"UNAVAILABLE\">UNAVAILABLE</option>\n        </select>\n      </form>\n    </div>\n    <div>\n      <label>Language: </label>\n      <input v-model=\"book.language\" class=\"form-control\" placeholder=\"Language\" />\n    </div>\n    <div>\n      <button class=\"btn btn-primary btn-block mt-2\" @click=\"saveBook()\">\n        Save\n      </button>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Component, Vue } from \"vue-property-decorator\";\nimport BookService from \"@/services/BookService\";\nimport { namespace } from \"vuex-class\";\n\nconst Auth = namespace(\"Auth\");\n\n@Component\nexport default class Book extends Vue {\n  @Auth.State(\"user\")\n  private currentUser!: any;\n  private book = {\n    id: \"\",\n    author: \"\",\n    title: \"\",\n    status: \"\",\n    selectedStatus: \"\",\n    language: \"\",\n  };\n\n  mounted() {\n    if (!this.currentUser) {\n      this.$router.push(\"/login\");\n    }\n    this.book.id = this.$route.params.id;\n    if (this.book.id) {\n      this.getBook();\n    }\n  }\n\n  getBook() {\n    BookService.getBook(this.book.id).then(\n      (response) => {\n        this.book.id = response.data.id\n        this.book.author = response.data.author;\n        this.book.title = response.data.title;\n        this.book.status = response.data.status;\n        this.book.selectedStatus = response.data.status;\n        this.book.language = response.data.language;\n      },\n      (error) => {\n        this.book =\n          (error.response && error.response.data) ||\n          error.message ||\n          error.toString();\n      }\n    );\n  }\n\n  saveBook() {\n    let newBook = {\n      id: this.book.id,\n      author: this.book.author,\n      title: this.book.title,\n      status: this.book.selectedStatus,\n      language: this.book.language,\n    }\n    if (this.book.id) {\n      BookService.editBook(newBook);\n      this.$router.push(\"/books\");\n      this.$router.go(\"/books\");\n    }\n    else {\n      BookService.createBook(newBook);\n      this.$router.push(\"/books\");\n    }\n  }\n}\n</script>\n"]}]}