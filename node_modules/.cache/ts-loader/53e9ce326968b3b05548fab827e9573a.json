{"remainingRequest":"/Users/ziya/Development/Other/esi-exam-fe/node_modules/babel-loader/lib/index.js!/Users/ziya/Development/Other/esi-exam-fe/node_modules/ts-loader/index.js??ref--13-2!/Users/ziya/Development/Other/esi-exam-fe/src/store/modules/auth.module.ts","dependencies":[{"path":"/Users/ziya/Development/Other/esi-exam-fe/src/store/modules/auth.module.ts","mtime":1653259655846},{"path":"/Users/ziya/Development/Other/esi-exam-fe/node_modules/cache-loader/dist/cjs.js","mtime":1652517625200},{"path":"/Users/ziya/Development/Other/esi-exam-fe/node_modules/babel-loader/lib/index.js","mtime":1652517626201},{"path":"/Users/ziya/Development/Other/esi-exam-fe/node_modules/ts-loader/index.js","mtime":1652517615040}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmciOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIi9Vc2Vycy96aXlhL0RldmVsb3BtZW50L090aGVyL2VzaS1leGFtLWZlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiL1VzZXJzL3ppeWEvRGV2ZWxvcG1lbnQvT3RoZXIvZXNpLWV4YW0tZmUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IF9pbmhlcml0cyBmcm9tICIvVXNlcnMveml5YS9EZXZlbG9wbWVudC9PdGhlci9lc2ktZXhhbS1mZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaW5oZXJpdHMiOwppbXBvcnQgX2NyZWF0ZVN1cGVyIGZyb20gIi9Vc2Vycy96aXlhL0RldmVsb3BtZW50L090aGVyL2VzaS1leGFtLWZlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVTdXBlciI7CmltcG9ydCB7IF9fZGVjb3JhdGUgfSBmcm9tICJ0c2xpYiI7CmltcG9ydCB7IEFjdGlvbiwgTW9kdWxlLCBNdXRhdGlvbiwgVnVleE1vZHVsZSB9IGZyb20gJ3Z1ZXgtbW9kdWxlLWRlY29yYXRvcnMnOwppbXBvcnQgQXV0aFNlcnZpY2UgZnJvbSAnQC9zZXJ2aWNlcy9BdXRoU2VydmljZSc7CnZhciBzdG9yZWRVc2VyID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXInKTsKCnZhciBVc2VyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfVnVleE1vZHVsZSkgewogIF9pbmhlcml0cyhVc2VyLCBfVnVleE1vZHVsZSk7CgogIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoVXNlcik7CgogIGZ1bmN0aW9uIFVzZXIoKSB7CiAgICB2YXIgX3RoaXM7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFVzZXIpOwoKICAgIF90aGlzID0gX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICBfdGhpcy5zdGF0dXMgPSB7CiAgICAgIGxvZ2dlZEluOiBzdG9yZWRVc2VyID8gdHJ1ZSA6IGZhbHNlCiAgICB9OwogICAgX3RoaXMudXNlciA9IHN0b3JlZFVzZXIgPyBKU09OLnBhcnNlKHN0b3JlZFVzZXIpIDogbnVsbDsKICAgIHJldHVybiBfdGhpczsKICB9CgogIF9jcmVhdGVDbGFzcyhVc2VyLCBbewogICAga2V5OiAibG9naW5TdWNjZXNzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBsb2dpblN1Y2Nlc3ModXNlcikgewogICAgICB0aGlzLnN0YXR1cy5sb2dnZWRJbiA9IHRydWU7CiAgICAgIHRoaXMudXNlciA9IHVzZXI7CiAgICB9CiAgfSwgewogICAga2V5OiAibG9naW5GYWlsdXJlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBsb2dpbkZhaWx1cmUoKSB7CiAgICAgIHRoaXMuc3RhdHVzLmxvZ2dlZEluID0gZmFsc2U7CiAgICAgIHRoaXMudXNlciA9IG51bGw7CiAgICB9CiAgfSwgewogICAga2V5OiAibG9nb3V0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBsb2dvdXQoKSB7CiAgICAgIHRoaXMuc3RhdHVzLmxvZ2dlZEluID0gZmFsc2U7CiAgICAgIHRoaXMudXNlciA9IG51bGw7CiAgICB9CiAgfSwgewogICAga2V5OiAicmVnaXN0ZXJTdWNjZXNzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZWdpc3RlclN1Y2Nlc3MoKSB7CiAgICAgIHRoaXMuc3RhdHVzLmxvZ2dlZEluID0gZmFsc2U7CiAgICB9CiAgfSwgewogICAga2V5OiAicmVnaXN0ZXJGYWlsdXJlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZWdpc3RlckZhaWx1cmUoKSB7CiAgICAgIHRoaXMuc3RhdHVzLmxvZ2dlZEluID0gZmFsc2U7CiAgICB9CiAgfSwgewogICAga2V5OiAibG9naW4iLAogICAgdmFsdWU6IGZ1bmN0aW9uIGxvZ2luKGRhdGEpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gQXV0aFNlcnZpY2UubG9naW4oZGF0YS51c2VybmFtZSwgZGF0YS5wYXNzd29yZCkudGhlbihmdW5jdGlvbiAodXNlcikgewogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VyJywgSlNPTi5zdHJpbmdpZnkodXNlcikpOwoKICAgICAgICBfdGhpczIuY29udGV4dC5jb21taXQoJ2xvZ2luU3VjY2VzcycsIHVzZXIpOwoKICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHVzZXIpOwogICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBfdGhpczIuY29udGV4dC5jb21taXQoJ2xvZ2luRmFpbHVyZScpOwoKICAgICAgICB2YXIgbWVzc2FnZSA9IGVycm9yLnJlc3BvbnNlICYmIGVycm9yLnJlc3BvbnNlLmRhdGEgJiYgZXJyb3IucmVzcG9uc2UuZGF0YS5tZXNzYWdlIHx8IGVycm9yLm1lc3NhZ2UgfHwgZXJyb3IudG9TdHJpbmcoKTsKICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobWVzc2FnZSk7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogInNpZ25PdXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNpZ25PdXQoKSB7CiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd1c2VyJyk7CiAgICAgIHRoaXMuY29udGV4dC5jb21taXQoJ2xvZ291dCcpOwogICAgfQogIH0sIHsKICAgIGtleTogInJlZ2lzdGVyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZWdpc3RlcihkYXRhKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgcmV0dXJuIEF1dGhTZXJ2aWNlLnJlZ2lzdGVyKGRhdGEudXNlcm5hbWUsIGRhdGEubGFzdE5hbWUsIGRhdGEuZmlyc3ROYW1lLCBkYXRhLmVtYWlsLCBkYXRhLnBhc3N3b3JkLCBkYXRhLmFkZHJlc3MsIGRhdGEucGhvbmVOdW1iZXIpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMzLmNvbnRleHQuY29tbWl0KCdyZWdpc3RlclN1Y2Nlc3MnKTsKCiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZXNwb25zZS5kYXRhKTsKICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgX3RoaXMzLmNvbnRleHQuY29tbWl0KCdyZWdpc3RlckZhaWx1cmUnKTsKCiAgICAgICAgdmFyIG1lc3NhZ2UgPSBlcnJvci5yZXNwb25zZSAmJiBlcnJvci5yZXNwb25zZS5kYXRhICYmIGVycm9yLnJlc3BvbnNlLmRhdGEubWVzc2FnZSB8fCBlcnJvci5tZXNzYWdlIHx8IGVycm9yLnRvU3RyaW5nKCk7CiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG1lc3NhZ2UpOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJpc0xvZ2dlZEluIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy5zdGF0dXMubG9nZ2VkSW47CiAgICB9CiAgfV0pOwoKICByZXR1cm4gVXNlcjsKfShWdWV4TW9kdWxlKTsKCl9fZGVjb3JhdGUoW011dGF0aW9uXSwgVXNlci5wcm90b3R5cGUsICJsb2dpblN1Y2Nlc3MiLCBudWxsKTsKCl9fZGVjb3JhdGUoW011dGF0aW9uXSwgVXNlci5wcm90b3R5cGUsICJsb2dpbkZhaWx1cmUiLCBudWxsKTsKCl9fZGVjb3JhdGUoW011dGF0aW9uXSwgVXNlci5wcm90b3R5cGUsICJsb2dvdXQiLCBudWxsKTsKCl9fZGVjb3JhdGUoW011dGF0aW9uXSwgVXNlci5wcm90b3R5cGUsICJyZWdpc3RlclN1Y2Nlc3MiLCBudWxsKTsKCl9fZGVjb3JhdGUoW011dGF0aW9uXSwgVXNlci5wcm90b3R5cGUsICJyZWdpc3RlckZhaWx1cmUiLCBudWxsKTsKCl9fZGVjb3JhdGUoW0FjdGlvbih7CiAgcmF3RXJyb3I6IHRydWUKfSldLCBVc2VyLnByb3RvdHlwZSwgImxvZ2luIiwgbnVsbCk7CgpfX2RlY29yYXRlKFtBY3Rpb25dLCBVc2VyLnByb3RvdHlwZSwgInNpZ25PdXQiLCBudWxsKTsKCl9fZGVjb3JhdGUoW0FjdGlvbih7CiAgcmF3RXJyb3I6IHRydWUKfSldLCBVc2VyLnByb3RvdHlwZSwgInJlZ2lzdGVyIiwgbnVsbCk7CgpVc2VyID0gX19kZWNvcmF0ZShbTW9kdWxlKHsKICBuYW1lc3BhY2VkOiB0cnVlCn0pXSwgVXNlcik7CmV4cG9ydCBkZWZhdWx0IFVzZXI7"},{"version":3,"sources":["/Users/ziya/Development/Other/esi-exam-fe/src/store/modules/auth.module.ts"],"names":[],"mappings":"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","sourcesContent":["import { Action, Module, Mutation, VuexModule } from 'vuex-module-decorators';\nimport AuthService from '@/services/AuthService';\n\nconst storedUser = localStorage.getItem('user');\n\n\n@Module({ namespaced: true })\nclass User extends VuexModule {\n    public status = { loggedIn: storedUser ? true: false  }\n    public user = storedUser ? JSON.parse(storedUser) : null;\n    \n\n    get isLoggedIn(): boolean {\n        return this.status.loggedIn;\n    }\n\n    @Mutation\n    public loginSuccess(user: any): void {\n        this.status.loggedIn = true;\n        this.user = user;\n    }\n\n    @Mutation\n    public loginFailure(): void {\n        this.status.loggedIn = false;\n        this.user = null;\n    }\n\n    @Mutation\n    public logout(): void {\n        this.status.loggedIn = false;\n        this.user = null;\n    }\n\n    @Mutation\n    public registerSuccess(): void {\n        this.status.loggedIn = false;\n    }\n\n    @Mutation\n    public registerFailure(): void {\n        this.status.loggedIn = false;\n    }\n\n    @Action({ rawError: true })\n    login(data: any): Promise<any> {\n        return AuthService.login(data.username, data.password).then(\n            user => {\n                localStorage.setItem('user', JSON.stringify(user));\n                this.context.commit('loginSuccess', user);\n                return Promise.resolve(user);\n            },\n            error => {\n                this.context.commit('loginFailure');\n                const message =\n                    (error.response && error.response.data && error.response.data.message) ||\n                    error.message ||\n                    error.toString();\n                return Promise.reject(message);\n            }\n        );\n    }\n\n    @Action\n    signOut(): void {\n        localStorage.removeItem('user');\n        this.context.commit('logout');\n    }\n\n    @Action({ rawError: true })\n    register(data: any): Promise<any> {\n        return AuthService.register(data.username, data.lastName, data.firstName, data.email, data.password, data.address, data.phoneNumber).then(\n            response => {\n                this.context.commit('registerSuccess');\n                return Promise.resolve(response.data);\n            },\n            error => {\n                this.context.commit('registerFailure');\n                const message =\n                    (error.response && error.response.data && error.response.data.message) ||\n                    error.message ||\n                    error.toString();\n                return Promise.reject(message);\n            }\n        );\n    }\n}\n\nexport default User;\n"],"sourceRoot":""}]}