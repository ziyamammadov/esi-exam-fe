{"remainingRequest":"/Users/ziya/Development/Other/esi-project-vue/node_modules/thread-loader/dist/cjs.js!/Users/ziya/Development/Other/esi-project-vue/node_modules/babel-loader/lib/index.js!/Users/ziya/Development/Other/esi-project-vue/node_modules/ts-loader/index.js??ref--13-3!/Users/ziya/Development/Other/esi-project-vue/src/store/modules/auth.module.ts","dependencies":[{"path":"/Users/ziya/Development/Other/esi-project-vue/src/store/modules/auth.module.ts","mtime":1652648765665},{"path":"/Users/ziya/Development/Other/esi-project-vue/node_modules/cache-loader/dist/cjs.js","mtime":1652517625200},{"path":"/Users/ziya/Development/Other/esi-project-vue/node_modules/thread-loader/dist/cjs.js","mtime":1652517615799},{"path":"/Users/ziya/Development/Other/esi-project-vue/node_modules/babel-loader/lib/index.js","mtime":1652517626201},{"path":"/Users/ziya/Development/Other/esi-project-vue/node_modules/ts-loader/index.js","mtime":1652517615040}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmciOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIi9Vc2Vycy96aXlhL0RldmVsb3BtZW50L090aGVyL2VzaS1wcm9qZWN0LXZ1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIi9Vc2Vycy96aXlhL0RldmVsb3BtZW50L090aGVyL2VzaS1wcm9qZWN0LXZ1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwppbXBvcnQgX2luaGVyaXRzIGZyb20gIi9Vc2Vycy96aXlhL0RldmVsb3BtZW50L090aGVyL2VzaS1wcm9qZWN0LXZ1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaW5oZXJpdHMiOwppbXBvcnQgX2NyZWF0ZVN1cGVyIGZyb20gIi9Vc2Vycy96aXlhL0RldmVsb3BtZW50L090aGVyL2VzaS1wcm9qZWN0LXZ1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlU3VwZXIiOwppbXBvcnQgeyBfX2RlY29yYXRlIH0gZnJvbSAidHNsaWIiOwppbXBvcnQgeyBBY3Rpb24sIE1vZHVsZSwgTXV0YXRpb24sIFZ1ZXhNb2R1bGUgfSBmcm9tICd2dWV4LW1vZHVsZS1kZWNvcmF0b3JzJzsKaW1wb3J0IEF1dGhTZXJ2aWNlIGZyb20gJ0Avc2VydmljZXMvQXV0aFNlcnZpY2UnOwp2YXIgc3RvcmVkVXNlciA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyJyk7CnZhciBzdG9yZWRUb2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpOwoKdmFyIFVzZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9WdWV4TW9kdWxlKSB7CiAgX2luaGVyaXRzKFVzZXIsIF9WdWV4TW9kdWxlKTsKCiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihVc2VyKTsKCiAgZnVuY3Rpb24gVXNlcigpIHsKICAgIHZhciBfdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVXNlcik7CgogICAgX3RoaXMgPSBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIF90aGlzLnN0YXR1cyA9IHsKICAgICAgbG9nZ2VkSW46IHN0b3JlZFVzZXIgPyB0cnVlIDogZmFsc2UKICAgIH07CiAgICBfdGhpcy51c2VyID0gc3RvcmVkVXNlciA/IEpTT04ucGFyc2Uoc3RvcmVkVXNlcikgOiBudWxsOwogICAgX3RoaXMudG9rZW4gPSBzdG9yZWRUb2tlbiA/IEpTT04ucGFyc2Uoc3RvcmVkVG9rZW4pIDogbnVsbDsKICAgIHJldHVybiBfdGhpczsKICB9CgogIF9jcmVhdGVDbGFzcyhVc2VyLCBbewogICAga2V5OiAibG9naW5TdWNjZXNzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBsb2dpblN1Y2Nlc3ModXNlcikgewogICAgICB0aGlzLnN0YXR1cy5sb2dnZWRJbiA9IHRydWU7CiAgICAgIHRoaXMudXNlciA9IHVzZXI7CiAgICB9CiAgfSwgewogICAga2V5OiAibG9naW5GYWlsdXJlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBsb2dpbkZhaWx1cmUoKSB7CiAgICAgIHRoaXMuc3RhdHVzLmxvZ2dlZEluID0gZmFsc2U7CiAgICAgIHRoaXMudXNlciA9IG51bGw7CiAgICAgIHRoaXMudG9rZW4gPSBudWxsOwogICAgfQogIH0sIHsKICAgIGtleTogImxvZ291dCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbG9nb3V0KCkgewogICAgICB0aGlzLnN0YXR1cy5sb2dnZWRJbiA9IGZhbHNlOwogICAgICB0aGlzLnVzZXIgPSBudWxsOwogICAgICB0aGlzLnRva2VuID0gbnVsbDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZWdpc3RlclN1Y2Nlc3MiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlZ2lzdGVyU3VjY2VzcygpIHsKICAgICAgdGhpcy5zdGF0dXMubG9nZ2VkSW4gPSBmYWxzZTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZWdpc3RlckZhaWx1cmUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlZ2lzdGVyRmFpbHVyZSgpIHsKICAgICAgdGhpcy5zdGF0dXMubG9nZ2VkSW4gPSBmYWxzZTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJsb2dpbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbG9naW4oZGF0YSkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBBdXRoU2VydmljZS5sb2dpbihkYXRhLnVzZXJuYW1lLCBkYXRhLnBhc3N3b3JkKS50aGVuKGZ1bmN0aW9uICh1c2VyKSB7CiAgICAgICAgX3RoaXMyLmNvbnRleHQuY29tbWl0KCdsb2dpblN1Y2Nlc3MnLCB1c2VyKTsKCiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh1c2VyKTsKICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgX3RoaXMyLmNvbnRleHQuY29tbWl0KCdsb2dpbkZhaWx1cmUnKTsKCiAgICAgICAgdmFyIG1lc3NhZ2UgPSBlcnJvci5yZXNwb25zZSAmJiBlcnJvci5yZXNwb25zZS5kYXRhICYmIGVycm9yLnJlc3BvbnNlLmRhdGEubWVzc2FnZSB8fCBlcnJvci5tZXNzYWdlIHx8IGVycm9yLnRvU3RyaW5nKCk7CiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG1lc3NhZ2UpOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzaWduT3V0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzaWduT3V0KCkgewogICAgICBBdXRoU2VydmljZS5sb2dvdXQoKTsKICAgICAgdGhpcy5jb250ZXh0LmNvbW1pdCgnbG9nb3V0Jyk7CiAgICB9CiAgfSwgewogICAga2V5OiAicmVnaXN0ZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlZ2lzdGVyKGRhdGEpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gQXV0aFNlcnZpY2UucmVnaXN0ZXIoZGF0YS51c2VybmFtZSwgZGF0YS5sYXN0TmFtZSwgZGF0YS5maXJzdE5hbWUsIGRhdGEuZW1haWwsIGRhdGEucGFzc3dvcmQsICdDVVNUT01FUicsIGRhdGEuYWRkcmVzcywgZGF0YS5waG9uZU51bWJlcikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczMuY29udGV4dC5jb21taXQoJ3JlZ2lzdGVyU3VjY2VzcycpOwoKICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlc3BvbnNlLmRhdGEpOwogICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBfdGhpczMuY29udGV4dC5jb21taXQoJ3JlZ2lzdGVyRmFpbHVyZScpOwoKICAgICAgICB2YXIgbWVzc2FnZSA9IGVycm9yLnJlc3BvbnNlICYmIGVycm9yLnJlc3BvbnNlLmRhdGEgJiYgZXJyb3IucmVzcG9uc2UuZGF0YS5tZXNzYWdlIHx8IGVycm9yLm1lc3NhZ2UgfHwgZXJyb3IudG9TdHJpbmcoKTsKICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobWVzc2FnZSk7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogImlzTG9nZ2VkSW4iLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLnN0YXR1cy5sb2dnZWRJbjsKICAgIH0KICB9XSk7CgogIHJldHVybiBVc2VyOwp9KFZ1ZXhNb2R1bGUpOwoKX19kZWNvcmF0ZShbTXV0YXRpb25dLCBVc2VyLnByb3RvdHlwZSwgImxvZ2luU3VjY2VzcyIsIG51bGwpOwoKX19kZWNvcmF0ZShbTXV0YXRpb25dLCBVc2VyLnByb3RvdHlwZSwgImxvZ2luRmFpbHVyZSIsIG51bGwpOwoKX19kZWNvcmF0ZShbTXV0YXRpb25dLCBVc2VyLnByb3RvdHlwZSwgImxvZ291dCIsIG51bGwpOwoKX19kZWNvcmF0ZShbTXV0YXRpb25dLCBVc2VyLnByb3RvdHlwZSwgInJlZ2lzdGVyU3VjY2VzcyIsIG51bGwpOwoKX19kZWNvcmF0ZShbTXV0YXRpb25dLCBVc2VyLnByb3RvdHlwZSwgInJlZ2lzdGVyRmFpbHVyZSIsIG51bGwpOwoKX19kZWNvcmF0ZShbQWN0aW9uKHsKICByYXdFcnJvcjogdHJ1ZQp9KV0sIFVzZXIucHJvdG90eXBlLCAibG9naW4iLCBudWxsKTsKCl9fZGVjb3JhdGUoW0FjdGlvbl0sIFVzZXIucHJvdG90eXBlLCAic2lnbk91dCIsIG51bGwpOwoKX19kZWNvcmF0ZShbQWN0aW9uKHsKICByYXdFcnJvcjogdHJ1ZQp9KV0sIFVzZXIucHJvdG90eXBlLCAicmVnaXN0ZXIiLCBudWxsKTsKClVzZXIgPSBfX2RlY29yYXRlKFtNb2R1bGUoewogIG5hbWVzcGFjZWQ6IHRydWUKfSldLCBVc2VyKTsKZXhwb3J0IGRlZmF1bHQgVXNlcjs="},{"version":3,"sources":["/Users/ziya/Development/Other/esi-project-vue/src/store/modules/auth.module.ts"],"names":[],"mappings":"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","sourcesContent":["import { Action, Module, Mutation, VuexModule } from 'vuex-module-decorators';\nimport AuthService from '@/services/AuthService';\n\nconst storedUser = localStorage.getItem('user');\nconst storedToken = localStorage.getItem('token');\n\n\n@Module({ namespaced: true })\nclass User extends VuexModule {\n    public status = { loggedIn: storedUser ? true: false  }\n    public user = storedUser ? JSON.parse(storedUser) : null;\n    public token = storedToken ? JSON.parse(storedToken) : null;\n    \n\n    get isLoggedIn(): boolean {\n        return this.status.loggedIn;\n    }\n\n    @Mutation\n    public loginSuccess(user: any): void {\n        this.status.loggedIn = true;\n        this.user = user;\n    }\n\n    @Mutation\n    public loginFailure(): void {\n        this.status.loggedIn = false;\n        this.user = null;\n        this.token = null;\n    }\n\n    @Mutation\n    public logout(): void {\n        this.status.loggedIn = false;\n        this.user = null;\n        this.token = null;\n\n    }\n\n    @Mutation\n    public registerSuccess(): void {\n        this.status.loggedIn = false;\n    }\n\n    @Mutation\n    public registerFailure(): void {\n        this.status.loggedIn = false;\n    }\n\n    @Action({ rawError: true })\n    login(data: any): Promise<any> {\n        return AuthService.login(data.username, data.password).then(\n            user => {\n                this.context.commit('loginSuccess', user);\n                return Promise.resolve(user);\n            },\n            error => {\n                this.context.commit('loginFailure');\n                const message =\n                    (error.response && error.response.data && error.response.data.message) ||\n                    error.message ||\n                    error.toString();\n                return Promise.reject(message);\n            }\n        );\n    }\n\n    @Action\n    signOut(): void {\n        AuthService.logout();\n        this.context.commit('logout');\n    }\n\n    @Action({ rawError: true })\n    register(data: any): Promise<any> {\n        return AuthService.register(data.username, data.lastName, data.firstName, data.email, data.password, 'CUSTOMER', data.address, data.phoneNumber).then(\n            response => {\n                this.context.commit('registerSuccess');\n                return Promise.resolve(response.data);\n            },\n            error => {\n                this.context.commit('registerFailure');\n                const message =\n                    (error.response && error.response.data && error.response.data.message) ||\n                    error.message ||\n                    error.toString();\n                return Promise.reject(message);\n            }\n        );\n    }\n}\n\nexport default User;\n"],"sourceRoot":""}]}