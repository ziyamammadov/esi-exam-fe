{"remainingRequest":"/Users/ziya/Development/Other/esi-project-vue/node_modules/babel-loader/lib/index.js!/Users/ziya/Development/Other/esi-project-vue/node_modules/ts-loader/index.js??ref--13-2!/Users/ziya/Development/Other/esi-project-vue/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/ziya/Development/Other/esi-project-vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ziya/Development/Other/esi-project-vue/src/components/BookList.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/ziya/Development/Other/esi-project-vue/src/components/BookList.vue","mtime":1653256897344},{"path":"/Users/ziya/Development/Other/esi-project-vue/node_modules/cache-loader/dist/cjs.js","mtime":1652517625200},{"path":"/Users/ziya/Development/Other/esi-project-vue/node_modules/babel-loader/lib/index.js","mtime":1652517626201},{"path":"/Users/ziya/Development/Other/esi-project-vue/node_modules/ts-loader/index.js","mtime":1652517615040},{"path":"/Users/ziya/Development/Other/esi-project-vue/node_modules/cache-loader/dist/cjs.js","mtime":1652517625200},{"path":"/Users/ziya/Development/Other/esi-project-vue/node_modules/vue-loader/lib/index.js","mtime":1652517614138}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcyI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiL1VzZXJzL3ppeWEvRGV2ZWxvcG1lbnQvT3RoZXIvZXNpLXByb2plY3QtdnVlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCBfaW5oZXJpdHMgZnJvbSAiL1VzZXJzL3ppeWEvRGV2ZWxvcG1lbnQvT3RoZXIvZXNpLXByb2plY3QtdnVlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pbmhlcml0cyI7CmltcG9ydCBfY3JlYXRlU3VwZXIgZnJvbSAiL1VzZXJzL3ppeWEvRGV2ZWxvcG1lbnQvT3RoZXIvZXNpLXByb2plY3QtdnVlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVTdXBlciI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiL1VzZXJzL3ppeWEvRGV2ZWxvcG1lbnQvT3RoZXIvZXNpLXByb2plY3QtdnVlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCB7IF9fZGVjb3JhdGUgfSBmcm9tICJ0c2xpYiI7CmltcG9ydCB7IENvbXBvbmVudCwgVnVlIH0gZnJvbSAidnVlLXByb3BlcnR5LWRlY29yYXRvciI7CmltcG9ydCBCb29rU2VydmljZSBmcm9tICJAL3NlcnZpY2VzL0Jvb2tTZXJ2aWNlIjsKaW1wb3J0IHsgbmFtZXNwYWNlIH0gZnJvbSAidnVleC1jbGFzcyI7CmltcG9ydCBCb3Jyb3dpbmdTZXJ2aWNlIGZyb20gIkAvc2VydmljZXMvQm9ycm93aW5nU2VydmljZSI7CnZhciBBdXRoID0gbmFtZXNwYWNlKCJBdXRoIik7Cgp2YXIgQm9va0R0byA9IGZ1bmN0aW9uIEJvb2tEdG8oaWQsIGF1dGhvciwgdGl0bGUsIHllYXIsIHN0YXR1cywgc2VsZWN0ZWRTdGF0dXMsIGxhbmd1YWdlLCBjYXRlZ29yaWVzKSB7CiAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEJvb2tEdG8pOwoKICB0aGlzLmlkID0gaWQ7CiAgdGhpcy5hdXRob3IgPSBhdXRob3I7CiAgdGhpcy50aXRsZSA9IHRpdGxlOwogIHRoaXMueWVhciA9IHllYXI7CiAgdGhpcy5zdGF0dXMgPSBzdGF0dXM7CiAgdGhpcy5zZWxlY3RlZFN0YXR1cyA9IHNlbGVjdGVkU3RhdHVzOwogIHRoaXMubGFuZ3VhZ2UgPSBsYW5ndWFnZTsKICB0aGlzLmNhdGVnb3JpZXMgPSBjYXRlZ29yaWVzOwp9OwoKdmFyIEhvbWUgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9WdWUpIHsKICBfaW5oZXJpdHMoSG9tZSwgX1Z1ZSk7CgogIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoSG9tZSk7CgogIGZ1bmN0aW9uIEhvbWUoKSB7CiAgICB2YXIgX3RoaXM7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEhvbWUpOwoKICAgIF90aGlzID0gX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICBfdGhpcy5jb250ZW50ID0gW107CiAgICBfdGhpcy5lcnJvciA9IG51bGw7CiAgICBfdGhpcy5zZWFyY2hLZXkgPSAiIjsKICAgIHJldHVybiBfdGhpczsKICB9CgogIF9jcmVhdGVDbGFzcyhIb21lLCBbewogICAga2V5OiAibW91bnRlZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgICAgaWYgKCF0aGlzLmN1cnJlbnRVc2VyKSB7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9sb2dpbiIpOwogICAgICB9CgogICAgICB0aGlzLmxvYWRCb29rcygpOwogICAgfQogIH0sIHsKICAgIGtleTogImxvYWRCb29rcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbG9hZEJvb2tzKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIEJvb2tTZXJ2aWNlLnNlYXJjaEJvb2tzKHRoaXMuc2VhcmNoS2V5LCAyMCwgMCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczIuY29udGVudCA9IHJlc3BvbnNlLmRhdGEuY29udGVudDsKICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgcmV0dXJuIF90aGlzMi5leHRyYWN0RXJyb3JNZXNzYWdlKGVycm9yKTsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiaXNMaWJyYXJpYW4iLAogICAgdmFsdWU6IGZ1bmN0aW9uIGlzTGlicmFyaWFuKCkgewogICAgICBpZiAodGhpcy5jdXJyZW50VXNlciAmJiB0aGlzLmN1cnJlbnRVc2VyLmF1dGhvcml0aWVzKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudFVzZXIuYXV0aG9yaXRpZXMuaW5jbHVkZXMoIkxJQlJBUklBTiIpOwogICAgICB9CgogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgfSwgewogICAga2V5OiAiYm9ycm93IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBib3Jyb3coYm9va0lkKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgQm9ycm93aW5nU2VydmljZS5ib3Jyb3coewogICAgICAgIGJvb2tJZDogYm9va0lkCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMzLmxvYWRCb29rcygpOwogICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICByZXR1cm4gX3RoaXMzLmV4dHJhY3RFcnJvck1lc3NhZ2UoZXJyb3IpOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZWxlYXNlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZWxlYXNlKGJvb2tJZCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIEJvcnJvd2luZ1NlcnZpY2UucmVsZWFzZSh7CiAgICAgICAgYm9va0lkOiBib29rSWQKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczQubG9hZEJvb2tzKCk7CiAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIHJldHVybiBfdGhpczQuZXh0cmFjdEVycm9yTWVzc2FnZShlcnJvcik7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogImV4dHJhY3RFcnJvck1lc3NhZ2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGV4dHJhY3RFcnJvck1lc3NhZ2UoZXJyb3IpIHsKICAgICAgdGhpcy5lcnJvciA9IGVycm9yLnJlc3BvbnNlICYmIGVycm9yLnJlc3BvbnNlLmRhdGEgfHwgZXJyb3IubWVzc2FnZSB8fCBlcnJvci50b1N0cmluZygpOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIEhvbWU7Cn0oVnVlKTsKCl9fZGVjb3JhdGUoW0F1dGguU3RhdGUoInVzZXIiKV0sIEhvbWUucHJvdG90eXBlLCAiY3VycmVudFVzZXIiLCB2b2lkIDApOwoKSG9tZSA9IF9fZGVjb3JhdGUoW0NvbXBvbmVudF0sIEhvbWUpOwpleHBvcnQgZGVmYXVsdCBIb21lOw=="},{"version":3,"sources":["/Users/ziya/Development/Other/esi-project-vue/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/ziya/Development/Other/esi-project-vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ziya/Development/Other/esi-project-vue/src/components/BookList.vue?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {Component, Vue} from \"vue-property-decorator\";\nimport BookService from \"@/services/BookService\";\nimport {namespace} from \"vuex-class\";\nimport BorrowingService from \"@/services/BorrowingService\";\n\nconst Auth = namespace(\"Auth\");\n\nclass BookDto {\n\n  id: number;\n  author: string;\n  title: string;\n  year: string;\n  status: string;\n  selectedStatus: string;\n  language: string;\n  categories: string;\n\n  constructor(\n      id: number,\n      author: string,\n      title: string,\n      year: string,\n      status: string,\n      selectedStatus: string,\n      language: string,\n      categories: string\n  ) {\n    this.id = id\n    this.author = author\n    this.title = title\n    this.year = year\n    this.status = status\n    this.selectedStatus = selectedStatus\n    this.language = language\n    this.categories = categories\n  }\n}\n\n@Component\nexport default class Home extends Vue {\n  @Auth.State(\"user\")\n  private currentUser!: any;\n  private content: BookDto[] = [];\n  private error = null;\n  private searchKey = \"\";\n\n  mounted() {\n    if (!this.currentUser) {\n      this.$router.push(\"/login\");\n    }\n    this.loadBooks();\n  }\n\n  loadBooks() {\n    BookService.searchBooks(this.searchKey, 20, 0).then(\n        (response) => {\n          this.content = response.data.content;\n        },\n        (error) => this.extractErrorMessage(error)\n    );\n  }\n\n  isLibrarian(): boolean {\n    if (this.currentUser && this.currentUser.authorities) {\n      return this.currentUser.authorities.includes(\"LIBRARIAN\");\n    }\n    return false;\n  }\n\n  borrow(bookId: number) {\n    BorrowingService.borrow({\n      bookId: bookId\n    }).then(\n        (response) => {\n          this.loadBooks();\n        },\n        (error) => this.extractErrorMessage(error)\n    );\n  }\n\n  release(bookId: number) {\n    BorrowingService.release({\n      bookId: bookId\n    }).then(\n        (response) => {\n          this.loadBooks();\n        },\n        (error) => this.extractErrorMessage(error)\n    );\n  }\n\n  private extractErrorMessage(error: any) {\n    this.error =\n        (error.response && error.response.data) ||\n        error.message ||\n        error.toString();\n  }\n}\n"],"sourceRoot":""}]}