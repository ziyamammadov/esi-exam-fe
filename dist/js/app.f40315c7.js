(function(e){function t(t){for(var r,n,i=t[0],u=t[1],l=t[2],m=0,d=[];m<i.length;m++)n=i[m],Object.prototype.hasOwnProperty.call(s,n)&&s[n]&&d.push(s[n][0]),s[n]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);c&&c(t);while(d.length)d.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],r=!0,i=1;i<a.length;i++){var u=a[i];0!==s[u]&&(r=!1)}r&&(o.splice(t--,1),e=n(n.s=a[0]))}return e}var r={},s={app:0},o=[];function n(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=r,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var c=u;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("cd49")},1760:function(e,t,a){"use strict";var r=a("d688"),s=a.n(r);s.a},ba2b:function(e,t,a){},c371:function(e,t,a){"use strict";var r=a("ba2b"),s=a.n(r);s.a},cd49:function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("nav",{staticClass:"navbar navbar-expand navbar-dark bg-dark"},[a("a",{staticClass:"navbar-brand",attrs:{href:""},on:{click:function(e){e.preventDefault()}}},[e._v("Library")]),a("div",{staticClass:"navbar-nav mr-auto"},[e.currentUser?a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/books"}},[a("font-awesome-icon",{attrs:{icon:"fa-solid fa-book"}}),e._v(" Books ")],1)],1):e._e(),e.isLibrarian()?a("li",{staticClass:"nav-item"},[a("font-awesome-icon",{attrs:{icon:"fa-solid fa-users"}}),a("router-link",{staticClass:"nav-link",attrs:{to:"/customers"}},[e._v(" Customers ")])],1):e._e()]),e.currentUser?e._e():a("div",{staticClass:"navbar-nav ml-auto"},[a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/register"}},[a("font-awesome-icon",{attrs:{icon:"user-plus"}}),e._v(" Sign Up ")],1)],1),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/login"}},[a("font-awesome-icon",{attrs:{icon:"sign-in-alt"}}),e._v(" Login ")],1)],1)]),e.currentUser?a("div",{staticClass:"navbar-nav ml-auto"},[a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:"/profile"}},[a("font-awesome-icon",{attrs:{icon:"user"}}),e._v(" "+e._s(e.currentUser.username)+" ")],1)],1),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.logOut(t)}}},[a("font-awesome-icon",{attrs:{icon:"sign-out-alt"}}),e._v(" Log out ")],1)])]):e._e()]),a("div",{staticClass:"container"},[a("router-view")],1)])},o=[],n=(a("caad"),a("2532"),a("d4ec")),i=a("bee2"),u=a("262e"),l=a("2caf"),c=a("9ab4"),m=a("60a3"),d=a("4bb5"),v=Object(d["a"])("Auth"),p=function(e){Object(u["a"])(a,e);var t=Object(l["a"])(a);function a(){return Object(n["a"])(this,a),t.apply(this,arguments)}return Object(i["a"])(a,[{key:"isLibrarian",value:function(){return!(!this.currentUser||!this.currentUser.authorities)&&this.currentUser.authorities.includes("LIBRARIAN")}},{key:"logOut",value:function(){this.signOut(),this.$router.push("/login")}}]),a}(m["b"]);Object(c["a"])([v.State("user")],p.prototype,"currentUser",void 0),Object(c["a"])([v.Action],p.prototype,"signOut",void 0),p=Object(c["a"])([m["a"]],p);var g=p,b=g,f=a("2877"),h=Object(f["a"])(b,s,o,!1,null,null,null),k=h.exports,_=a("8c4f"),y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("header",{staticClass:"jumbotron"},[a("h3",[e._v(e._s(e.id?"Edit book":"Create book"))])]),a("div",[a("label",[e._v("Author: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.book.author,expression:"book.author"}],staticClass:"form-control",attrs:{placeholder:"Author"},domProps:{value:e.book.author},on:{input:function(t){t.target.composing||e.$set(e.book,"author",t.target.value)}}})]),a("div",[a("label",[e._v("Title: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.book.title,expression:"book.title"}],staticClass:"form-control",attrs:{placeholder:"Title"},domProps:{value:e.book.title},on:{input:function(t){t.target.composing||e.$set(e.book,"title",t.target.value)}}})]),a("div",[a("label",[e._v("Release Date: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.book.releaseDate,expression:"book.releaseDate"}],staticClass:"form-control",attrs:{placeholder:"Release date"},domProps:{value:e.book.releaseDate},on:{input:function(t){t.target.composing||e.$set(e.book,"releaseDate",t.target.value)}}})]),a("div",[a("label",[e._v("status: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.book.status,expression:"book.status"}],staticClass:"form-control",attrs:{placeholder:"Status"},domProps:{value:e.book.status},on:{input:function(t){t.target.composing||e.$set(e.book,"status",t.target.value)}}})]),a("div",[a("label",[e._v("Language: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.book.language,expression:"book.language"}],staticClass:"form-control",attrs:{placeholder:"Language"},domProps:{value:e.book.language},on:{input:function(t){t.target.composing||e.$set(e.book,"language",t.target.value)}}})]),a("div",[a("label",[e._v("Categories: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.book.categories,expression:"book.categories"}],staticClass:"form-control",attrs:{placeholder:"Categories"},domProps:{value:e.book.categories},on:{input:function(t){t.target.composing||e.$set(e.book,"categories",t.target.value)}}})]),a("div",[a("button",{staticClass:"btn btn-primary btn-block mt-2",on:{click:function(t){return e.saveBook()}}},[e._v(" Save ")])])])},O=[],C=(a("d3b7"),a("25f0"),a("bc3a")),j=a.n(C);function w(){var e=localStorage.getItem("token"),t=JSON.parse(e||"");return t?{Authorization:"Bearer "+t}:{}}var x="http://localhost:8081",N=function(){function e(){Object(n["a"])(this,e)}return Object(i["a"])(e,[{key:"searchBooks",value:function(e,t,a){return j.a.get(x+"/books/search?searchKey=".concat(e,"&pageSize=20&pageIndex=0"),{headers:w()})}},{key:"getBook",value:function(e){return j.a.get(x+"/books/"+e,{headers:w()})}},{key:"editBook",value:function(e){return j.a.put(x+"/books",e,{headers:w()})}},{key:"createBook",value:function(e){return j.a.post(x+"/books",e,{headers:w()})}}]),e}(),S=new N,$=Object(d["a"])("Auth"),P=function(e){Object(u["a"])(a,e);var t=Object(l["a"])(a);function a(){var e;return Object(n["a"])(this,a),e=t.apply(this,arguments),e.book=null,e.id="",e}return Object(i["a"])(a,[{key:"mounted",value:function(){this.id=this.$route.params.id,this.currentUser||this.$router.push("/login"),this.id&&this.getBook()}},{key:"getBook",value:function(){var e=this;S.getBook(parseInt(this.id)).then((function(t){e.book=t.data}),(function(t){e.book=t.response&&t.response.data||t.message||t.toString()}))}},{key:"saveBook",value:function(e){console.log("save clicked")}}]),a}(m["b"]);Object(c["a"])([$.State("user")],P.prototype,"currentUser",void 0),P=Object(c["a"])([m["a"]],P);var A=P,U=A,E=Object(f["a"])(U,y,O,!1,null,null,null),I=E.exports,B=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("header",{staticClass:"jumbotron"},[a("h3",[a("strong",[e._v(e._s(e.currentUser.username)+"'s")]),e._v(" profile ")])]),a("p",[a("strong",[e._v("Id:")]),e._v(" "+e._s(e.currentUser.id)+" ")]),a("p",[a("strong",[e._v("Username:")]),e._v(" "+e._s(e.currentUser.username)+" ")]),a("p",[a("strong",[e._v("First name:")]),e._v(" "+e._s(e.currentUser.firstName)+" ")]),a("p",[a("strong",[e._v("Last name:")]),e._v(" "+e._s(e.currentUser.lastName)+" ")]),a("p",[a("strong",[e._v("Email:")]),e._v(" "+e._s(e.currentUser.email)+" ")]),a("p",[a("strong",[e._v("Phone number:")]),e._v(" "+e._s(e.currentUser.phoneNumber)+" ")]),a("strong",[e._v("Authorities:")]),a("ul",e._l(e.currentUser.authorities,(function(t){return a("li",{key:t},[e._v(" "+e._s(t)+" ")])})),0)])},q=[],L=Object(d["a"])("Auth"),D=function(e){Object(u["a"])(a,e);var t=Object(l["a"])(a);function a(){return Object(n["a"])(this,a),t.apply(this,arguments)}return Object(i["a"])(a,[{key:"mounted",value:function(){this.currentUser||this.$router.push("/login")}}]),a}(m["b"]);Object(c["a"])([L.State("user")],D.prototype,"currentUser",void 0),D=Object(c["a"])([m["a"]],D);var K=D,T=K,R=Object(f["a"])(T,B,q,!1,null,null,null),F=R.exports,J=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("header",{staticClass:"jumbotron"},[a("h3",[e._v("List of all books")]),a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.searchKey,expression:"searchKey"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Search"},domProps:{value:e.searchKey},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.loadBooks()},input:function(t){t.target.composing||(e.searchKey=t.target.value)}}}),a("button",{staticClass:"input-group-text",on:{click:function(t){return e.loadBooks()}}},[e._v("ðŸ”Ž")])])]),a("div",{attrs:{id:"books"}},[a("div",[e._v(" Add books: "),a("router-link",{attrs:{to:"books/create"}},[e._v("Add")])],1),a("div"),a("table",{staticClass:"table",attrs:{id:"booksTable"}},[e.content?a("thead",[a("tr",e._l(e.content[0],(function(t,r){return a("th",{key:r},[e._v(" "+e._s(r)+" ")])})),0)]):a("p",[e._v(e._s(e.error))]),a("tbody",e._l(e.content,(function(t){return a("tr",{key:t.id},[e._l(t,(function(t){return a("td",{key:t},[e._v(" "+e._s(t)+" ")])})),a("td",[a("router-link",{attrs:{to:"books/edit/"+t.id}},[e._v(" Edit ")])],1)],2)})),0)])])])},M=[],z=Object(d["a"])("Auth"),G=function(e){Object(u["a"])(a,e);var t=Object(l["a"])(a);function a(){var e;return Object(n["a"])(this,a),e=t.apply(this,arguments),e.content=null,e.error=null,e.searchKey="",e}return Object(i["a"])(a,[{key:"mounted",value:function(){this.currentUser||this.$router.push("/login"),this.loadBooks()}},{key:"loadBooks",value:function(){var e=this;S.searchBooks(this.searchKey,20,0).then((function(t){e.content=t.data.content}),(function(t){e.error=t.response&&t.response.data||t.message||t.toString()}))}}]),a}(m["b"]);Object(c["a"])([z.State("user")],G.prototype,"currentUser",void 0),G=Object(c["a"])([m["a"]],G);var H=G,Q=H,V=Object(f["a"])(Q,J,M,!1,null,null,null),W=V.exports,X=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[e._m(0),a("div",[a("label",[e._v("Author: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.book.author,expression:"book.author"}],staticClass:"form-control",domProps:{value:e.book.author},on:{input:function(t){t.target.composing||e.$set(e.book,"author",t.target.value)}}})]),a("div",[a("label",[e._v("Title: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.book.title,expression:"book.title"}],staticClass:"form-control",domProps:{value:e.book.title},on:{input:function(t){t.target.composing||e.$set(e.book,"title",t.target.value)}}})]),a("div",[a("label",[e._v("Release Date: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.book.releaseDate,expression:"book.releaseDate"}],staticClass:"form-control",domProps:{value:e.book.releaseDate},on:{input:function(t){t.target.composing||e.$set(e.book,"releaseDate",t.target.value)}}})]),a("div",[a("label",[e._v("status: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.book.status,expression:"book.status"}],staticClass:"form-control",domProps:{value:e.book.status},on:{input:function(t){t.target.composing||e.$set(e.book,"status",t.target.value)}}})]),a("div",[a("label",[e._v("Language: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.book.language,expression:"book.language"}],staticClass:"form-control",domProps:{value:e.book.language},on:{input:function(t){t.target.composing||e.$set(e.book,"language",t.target.value)}}})]),a("div",[a("label",[e._v("Categories: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.book.categories,expression:"book.categories"}],staticClass:"form-control",domProps:{value:e.book.categories},on:{input:function(t){t.target.composing||e.$set(e.book,"categories",t.target.value)}}})]),a("div",[a("button",{staticClass:"btn btn-primary btn-block mt-2",on:{click:function(t){return e.saveCustomer()}}},[e._v(" Save ")])])])},Y=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("header",{staticClass:"jumbotron"},[a("h3",[e._v("Edit customer")])])}],Z=function(){function e(){Object(n["a"])(this,e)}return Object(i["a"])(e,[{key:"searchCustomers",value:function(e,t,a){return j.a.get(x+"customers/search?searchKey=".concat(e,"&pageSize=20&pageIndex=0"),{headers:w()})}},{key:"getCustomer",value:function(e){return j.a.get(x+"customers/"+e,{headers:w()})}},{key:"getAdminBoard",value:function(){return j.a.get(x+"customers",{headers:w()})}}]),e}(),ee=new Z,te=Object(d["a"])("Auth"),ae=function(e){Object(u["a"])(a,e);var t=Object(l["a"])(a);function a(){var e;return Object(n["a"])(this,a),e=t.apply(this,arguments),e.customer=null,e.id="",e}return Object(i["a"])(a,[{key:"mounted",value:function(){this.id=this.$route.params.id,this.currentUser||this.$router.push("/login"),this.id&&this.getCustomer()}},{key:"getCustomer",value:function(){var e=this;ee.getCustomer(parseInt(this.id)).then((function(t){e.customer=t.data}),(function(t){e.customer=t.response&&t.response.data||t.message||t.toString()}))}},{key:"saveCustomer",value:function(){console.log("save clicked")}}]),a}(m["b"]);Object(c["a"])([te.State("user")],ae.prototype,"currentUser",void 0),ae=Object(c["a"])([m["a"]],ae);var re=ae,se=re,oe=Object(f["a"])(se,X,Y,!1,null,null,null),ne=oe.exports,ie=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("header",{staticClass:"jumbotron"},[a("h3",[e._v("List of all customers")]),a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.searchKey,expression:"searchKey"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Search"},domProps:{value:e.searchKey},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.loadBooks()},input:function(t){t.target.composing||(e.searchKey=t.target.value)}}}),a("button",{staticClass:"input-group-text",on:{click:function(t){return e.loadBooks()}}},[e._v("ðŸ”Ž")])])]),a("div",{attrs:{id:"customers"}},[a("div",[e._v(" Add books: "),a("router-link",{attrs:{to:"books/add/new"}},[e._v("Add")])],1),a("div"),a("table",{staticClass:"table",attrs:{id:"customersTable"}},[e.content?a("thead",[a("tr",e._l(e.content[0],(function(t,r){return a("th",{key:r},[e._v(" "+e._s(r)+" ")])})),0)]):a("p",[e._v(e._s(e.error))]),a("tbody",e._l(e.content,(function(t){return a("tr",{key:t.id},[e._l(t,(function(t){return a("td",{key:t},[e._v(" "+e._s(t)+" ")])})),a("td",[a("router-link",{attrs:{to:"customers/"+t.id}},[e._v(" Edit ")])],1)],2)})),0)])])])},ue=[],le=Object(d["a"])("Auth"),ce=function(e){Object(u["a"])(a,e);var t=Object(l["a"])(a);function a(){var e;return Object(n["a"])(this,a),e=t.apply(this,arguments),e.content=null,e.error=null,e.searchKey="",e}return Object(i["a"])(a,[{key:"mounted",value:function(){this.currentUser||this.$router.push("/login"),this.loadBooks()}},{key:"loadBooks",value:function(){var e=this;ee.searchCustomers(this.searchKey,20,0).then((function(t){e.content=t.data.content}),(function(t){e.error=t.response&&t.response.data||t.message||t.toString()}))}}]),a}(m["b"]);Object(c["a"])([le.State("user")],ce.prototype,"currentUser",void 0),ce=Object(c["a"])([m["a"]],ce);var me=ce,de=me,ve=Object(f["a"])(de,ie,ue,!1,null,null,null),pe=ve.exports,ge=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"card card-container"},[a("img",{staticClass:"profile-img-card",attrs:{id:"profile-img",src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png"}}),a("form",{attrs:{name:"form"},on:{submit:function(t){return t.preventDefault(),e.handleLogin(t)}}},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"username"}},[e._v("Username")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.username,expression:"user.username"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{name:"username",type:"text"},domProps:{value:e.user.username},on:{input:function(t){t.target.composing||e.$set(e.user,"username",t.target.value)}}}),e.errors.has("username")?a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[e._v(" Username is required! ")]):e._e()]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"password"}},[e._v("Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{name:"password",type:"password"},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value)}}}),e.errors.has("password")?a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[e._v(" Password is required! ")]):e._e()]),a("div",{staticClass:"form-group"},[a("button",{staticClass:"btn btn-primary btn-block",attrs:{disabled:e.loading}},[a("span",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"spinner-border spinner-border-sm"}),a("span",[e._v("Login")])])]),a("div",{staticClass:"form-group"},[e.message?a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[e._v(" "+e._s(e.message)+" ")]):e._e()])])])])},be=[],fe=Object(d["a"])("Auth"),he=function(e){Object(u["a"])(a,e);var t=Object(l["a"])(a);function a(){var e;return Object(n["a"])(this,a),e=t.apply(this,arguments),e.user={username:"",password:""},e.loading=!1,e.message="",e}return Object(i["a"])(a,[{key:"created",value:function(){this.isLoggedIn&&this.$router.push("/books")}},{key:"handleLogin",value:function(){var e=this;this.loading=!0,this.$validator.validateAll().then((function(t){t?e.user.username&&e.user.password&&e.login(e.user).then((function(t){e.$router.push("/books")}),(function(t){e.loading=!1,e.message=t})):e.loading=!1}))}}]),a}(m["b"]);Object(c["a"])([fe.Getter],he.prototype,"isLoggedIn",void 0),Object(c["a"])([fe.Action],he.prototype,"login",void 0),he=Object(c["a"])([m["a"]],he);var ke=he,_e=ke,ye=(a("c371"),Object(f["a"])(_e,ge,be,!1,null,"24f7b75d",null)),Oe=ye.exports,Ce=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"card card-container"},[a("img",{staticClass:"profile-img-card",attrs:{id:"profile-img",src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png"}}),a("form",{attrs:{name:"form"},on:{submit:function(t){return t.preventDefault(),e.handleRegister(t)}}},[e.successful?e._e():a("div",[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"username"}},[e._v("Username")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.username,expression:"user.username"},{name:"validate",rawName:"v-validate",value:"required|min:3|max:20",expression:"'required|min:3|max:20'"}],staticClass:"form-control",attrs:{name:"username",type:"text"},domProps:{value:e.user.username},on:{input:function(t){t.target.composing||e.$set(e.user,"username",t.target.value)}}}),e.submitted&&e.errors.has("username")?a("div",{staticClass:"alert-danger"},[e._v(" "+e._s(e.errors.first("username"))+" ")]):e._e()]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"firstName"}},[e._v("First name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.firstName,expression:"user.firstName"},{name:"validate",rawName:"v-validate",value:"required|min:3|max:20",expression:"'required|min:3|max:20'"}],staticClass:"form-control",attrs:{name:"firstName",type:"text"},domProps:{value:e.user.firstName},on:{input:function(t){t.target.composing||e.$set(e.user,"firstName",t.target.value)}}}),e.submitted&&e.errors.has("firstName")?a("div",{staticClass:"alert-danger"},[e._v(" "+e._s(e.errors.first("firstName"))+" ")]):e._e()]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"lastName"}},[e._v("Last name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.lastName,expression:"user.lastName"},{name:"validate",rawName:"v-validate",value:"required|min:3|max:20",expression:"'required|min:3|max:20'"}],staticClass:"form-control",attrs:{name:"lastName",type:"text"},domProps:{value:e.user.lastName},on:{input:function(t){t.target.composing||e.$set(e.user,"lastName",t.target.value)}}}),e.submitted&&e.errors.has("lastName")?a("div",{staticClass:"alert-danger"},[e._v(" "+e._s(e.errors.first("lastName"))+" ")]):e._e()]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"email"}},[e._v("Email")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"},{name:"validate",rawName:"v-validate",value:"required|email|max:50",expression:"'required|email|max:50'"}],staticClass:"form-control",attrs:{name:"email",type:"email"},domProps:{value:e.user.email},on:{input:function(t){t.target.composing||e.$set(e.user,"email",t.target.value)}}}),e.submitted&&e.errors.has("email")?a("div",{staticClass:"alert-danger"},[e._v(" "+e._s(e.errors.first("email"))+" ")]):e._e()]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"password"}},[e._v("Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"},{name:"validate",rawName:"v-validate",value:"required|min:5|max:40",expression:"'required|min:5|max:40'"}],staticClass:"form-control",attrs:{name:"password",type:"password"},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value)}}}),e.submitted&&e.errors.has("password")?a("div",{staticClass:"alert-danger"},[e._v(" "+e._s(e.errors.first("password"))+" ")]):e._e()]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"address"}},[e._v("Address")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.address,expression:"user.address"},{name:"validate",rawName:"v-validate",value:"required|min:3|max:20",expression:"'required|min:3|max:20'"}],staticClass:"form-control",attrs:{name:"address",type:"text"},domProps:{value:e.user.address},on:{input:function(t){t.target.composing||e.$set(e.user,"address",t.target.value)}}}),e.submitted&&e.errors.has("address")?a("div",{staticClass:"alert-danger"},[e._v(" "+e._s(e.errors.first("address"))+" ")]):e._e()]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"phoneNumber"}},[e._v("Phone number")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.phoneNumber,expression:"user.phoneNumber"},{name:"validate",rawName:"v-validate",value:"required|min:3|max:20",expression:"'required|min:3|max:20'"}],staticClass:"form-control",attrs:{name:"phoneNumber",type:"text"},domProps:{value:e.user.phoneNumber},on:{input:function(t){t.target.composing||e.$set(e.user,"phoneNumber",t.target.value)}}}),e.submitted&&e.errors.has("phoneNumber")?a("div",{staticClass:"alert-danger"},[e._v(" "+e._s(e.errors.first("phoneNumber"))+" ")]):e._e()]),e._m(0)])]),e.message?a("div",{staticClass:"alert",class:e.successful?"alert-success":"alert-danger"},[e._v(" "+e._s(e.message)+" ")]):e._e()])])},je=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form-group"},[a("button",{staticClass:"btn btn-primary btn-block"},[e._v("Sign Up")])])}],we=Object(d["a"])("Auth"),xe=function(e){Object(u["a"])(a,e);var t=Object(l["a"])(a);function a(){var e;return Object(n["a"])(this,a),e=t.apply(this,arguments),e.user={username:"",email:"",password:""},e.submitted=!1,e.successful=!1,e.message="",e}return Object(i["a"])(a,[{key:"handleRegister",value:function(){var e=this;this.message="",this.submitted=!0,this.$validator.validate().then((function(t){t&&e.register(e.user).then((function(t){e.message=t.message,e.successful=!0,e.$router.push("/login")}),(function(t){e.message=t,e.successful=!1}))}))}}]),a}(m["b"]);Object(c["a"])([we.Action],xe.prototype,"register",void 0),xe=Object(c["a"])([m["a"]],xe);var Ne=xe,Se=Ne,$e=(a("1760"),Object(f["a"])(Se,Ce,je,!1,null,"608d184e",null)),Pe=$e.exports;r["a"].use(_["a"]);var Ae=[{path:"/",name:"home",component:pe},{path:"/books/edit/:id",name:"bookEdit",component:I},{path:"/books/create",name:"bookAdd",component:I},{path:"/books",name:"bookList",component:W},{path:"/login",component:Oe},{path:"/register",component:Pe},{path:"/customers/edit/:id",name:"customerEdit",component:ne},{path:"/customers/create",name:"customerAdd",component:ne},{path:"/customers",name:"customers",component:pe},{path:"/profile",name:"profile",component:F}],Ue=new _["a"]({mode:"history",base:"/",routes:Ae}),Ee=Ue,Ie=a("2f62"),Be=a("6fc5"),qe=(a("96cf"),a("1da1")),Le=function(){function e(){Object(n["a"])(this,e)}return Object(i["a"])(e,[{key:"login",value:function(e,t){return j.a.post(x+"/users/authenticate",{password:t,rememberMe:!0,username:e},{headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}}).then(function(){var e=Object(qe["a"])(regeneratorRuntime.mark((function e(t){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=null,!t.data.token){e.next=10;break}return e.next=4,fetch(x+"/users/current",{method:"GET",headers:{Authorization:"Bearer "+t.data.token}});case 4:return r=e.sent,e.next=7,r.json();case 7:a=e.sent,localStorage.setItem("user",JSON.stringify(a)),localStorage.setItem("token",JSON.stringify(t.data.token));case 10:return e.abrupt("return",a);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e.response)}))}},{key:"logout",value:function(){localStorage.removeItem("token"),localStorage.removeItem("user")}},{key:"register",value:function(e,t,a,r,s,o,n,i){return j.a.post(x+"/users",{username:e,firstName:a,lastName:t,email:r,password:s,type:o,address:n,phoneNumber:i},{headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}})}}]),e}(),De=new Le,Ke=localStorage.getItem("user"),Te=localStorage.getItem("token"),Re=function(e){Object(u["a"])(a,e);var t=Object(l["a"])(a);function a(){var e;return Object(n["a"])(this,a),e=t.apply(this,arguments),e.status={loggedIn:!!Ke},e.user=Ke?JSON.parse(Ke):null,e.token=Te?JSON.parse(Te):null,e}return Object(i["a"])(a,[{key:"loginSuccess",value:function(e){this.status.loggedIn=!0,this.user=e}},{key:"loginFailure",value:function(){this.status.loggedIn=!1,this.user=null,this.token=null}},{key:"logout",value:function(){this.status.loggedIn=!1,this.user=null,this.token=null}},{key:"registerSuccess",value:function(){this.status.loggedIn=!1}},{key:"registerFailure",value:function(){this.status.loggedIn=!1}},{key:"login",value:function(e){var t=this;return De.login(e.username,e.password).then((function(e){return t.context.commit("loginSuccess",e),Promise.resolve(e)}),(function(e){t.context.commit("loginFailure");var a=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();return Promise.reject(a)}))}},{key:"signOut",value:function(){De.logout(),this.context.commit("logout")}},{key:"register",value:function(e){var t=this;return De.register(e.username,e.lastName,e.firstName,e.email,e.password,"CUSTOMER",e.address,e.phoneNumber).then((function(e){return t.context.commit("registerSuccess"),Promise.resolve(e.data)}),(function(e){t.context.commit("registerFailure");var a=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();return Promise.reject(a)}))}},{key:"isLoggedIn",get:function(){return this.status.loggedIn}}]),a}(Be["d"]);Object(c["a"])([Be["c"]],Re.prototype,"loginSuccess",null),Object(c["a"])([Be["c"]],Re.prototype,"loginFailure",null),Object(c["a"])([Be["c"]],Re.prototype,"logout",null),Object(c["a"])([Be["c"]],Re.prototype,"registerSuccess",null),Object(c["a"])([Be["c"]],Re.prototype,"registerFailure",null),Object(c["a"])([Object(Be["a"])({rawError:!0})],Re.prototype,"login",null),Object(c["a"])([Be["a"]],Re.prototype,"signOut",null),Object(c["a"])([Object(Be["a"])({rawError:!0})],Re.prototype,"register",null),Re=Object(c["a"])([Object(Be["b"])({namespaced:!0})],Re);var Fe=Re;r["a"].use(Ie["a"]);var Je=new Ie["a"].Store({modules:{Auth:Fe}}),Me=(a("4989"),a("ab8b"),a("7bb1")),ze=a("ecee"),Ge=a("ad3d"),He=a("c074");ze["c"].add(He["b"],He["a"],He["g"],He["e"],He["f"],He["c"],He["d"]),r["a"].config.productionTip=!1,r["a"].use(Me["a"]),r["a"].component("font-awesome-icon",Ge["a"]),new r["a"]({router:Ee,store:Je,render:function(e){return e(k)}}).$mount("#app")},d688:function(e,t,a){}});
//# sourceMappingURL=app.f40315c7.js.map